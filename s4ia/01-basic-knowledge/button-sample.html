<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Button-sample</title>
</head>
<style>
*{margin: 0;padding: 0;}
.box1{border: 10px solid #000;width: 400px;height: 400px;position: relative;margin: 0 auto;}
.box2{position: absolute;width: 80px;height: 80px;background: gold;top: 0;left: 0;}
.box3{position: absolute;width: 10px;height: 10px;right: -5px;bottom: -5px;background: #0000FF;border-radius: 50%;}
</style>
</head>
<body>
<div class="box1">
    <div class="box2">
        <div class="box3"></div>
    </div>
</div>
<script type="text/javascript">
let box1 = document.querySelector(".box1");
let box2 = document.querySelector(".box2");
let box3 = document.querySelector(".box3");
box1.onmousedown = function(e) {
e = e || window.event;
let left = box2.offsetLeft;
let top = box2.offsetTop;
let nowX = e.clientX;
let nowY = e.clientY;
document.onmousemove = function(e) {
let resultX = left + e.clientX - nowX;
let resultY = top + e.clientY - nowY;
if(resultX < 0) {
resultX = 0;
} else if (resultX > box1.clientWidth - box2.offsetWidth) {
resultX = box1.clientWidth - box2.offsetWidth
}
if(resultY < 0) {
resultY = 0;
} else if (resultY > box1.clientHeight - box2.offsetHeight) {
resultY = box1.clientHeight - box2.offsetHeight
}
box2.style.left = resultX + "px";
box2.style.top = resultY + "px";
}
}
box3.onmousedown = function(e) {
e = e || window.event;
e.stopPropagation();
e.cancelBubble = true;
let width = box2.offsetWidth;
let height = box2.offsetHeight;
let nowX = e.clientX;
let nowY = e.clientY;
document.onmousemove = function(e) {
e = e || window.event;
let a = width + e.clientX - nowX;
let b = height + e.clientY - nowY;
if(a > box1.clientWidth){
a = box1.clientWidth;
}
if(b > box1.clientHeight){
b = box1.clientHeight;
}
box2.style.width = a + "px"
box2.style.height = b + "px";
}
}
document.onmouseup = function() {
document.onmousemove = null;
}





</script>
</body>
</html>