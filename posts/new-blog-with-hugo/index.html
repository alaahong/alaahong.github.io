<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  New Blog With Hugo · 手中执剑,方能保护所爱之人
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Ian zhang">
<meta name="description" content="最近翻译Selenium官方文档的缘故，接触了Hugo，原本的博客有些年久失修，决定用Hugo重新做一版.
安装HugoLink to heading此段详见官网教程，Windows上建议通过Chocolatey安装
&gt; choco install hugo-extended -confirm Chocolatey v0.10.15 Installing the following packages: hugo-extended By installing you accept licenses for the packages. hugo-extended v0.68.3 [Approved] hugo-extended package files install completed. Performing other installation steps. Downloading hugo-extended 64 bit from &#39;https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_extended_0.68.3_Windows-64bit.zip&#39; Progress: 100% - Completed download of C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB). Download of hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB) completed. Hashes match. Extracting C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip to C:\ProgramData\chocolatey\lib\hugo-extended\tools... C:\ProgramData\chocolatey\lib\hugo-extended\tools ShimGen has successfully created a shim for hugo.">
<meta name="keywords" content="blog,developer">


<meta name="twitter:card" content="summary"><meta name="twitter:title" content="New Blog With Hugo">
<meta name="twitter:description" content="最近翻译Selenium官方文档的缘故，接触了Hugo，原本的博客有些年久失修，决定用Hugo重新做一版.
安装HugoLink to heading此段详见官网教程，Windows上建议通过Chocolatey安装
&gt; choco install hugo-extended -confirm Chocolatey v0.10.15 Installing the following packages: hugo-extended By installing you accept licenses for the packages. hugo-extended v0.68.3 [Approved] hugo-extended package files install completed. Performing other installation steps. Downloading hugo-extended 64 bit from &#39;https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_extended_0.68.3_Windows-64bit.zip&#39; Progress: 100% - Completed download of C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB). Download of hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB) completed. Hashes match. Extracting C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip to C:\ProgramData\chocolatey\lib\hugo-extended\tools... C:\ProgramData\chocolatey\lib\hugo-extended\tools ShimGen has successfully created a shim for hugo.">

<meta property="og:url" content="//www.ianzhang.cn/posts/new-blog-with-hugo/">
  <meta property="og:site_name" content="手中执剑,方能保护所爱之人">
  <meta property="og:title" content="New Blog With Hugo">
  <meta property="og:description" content="最近翻译Selenium官方文档的缘故，接触了Hugo，原本的博客有些年久失修，决定用Hugo重新做一版.
安装HugoLink to heading此段详见官网教程，Windows上建议通过Chocolatey安装
&gt; choco install hugo-extended -confirm Chocolatey v0.10.15 Installing the following packages: hugo-extended By installing you accept licenses for the packages. hugo-extended v0.68.3 [Approved] hugo-extended package files install completed. Performing other installation steps. Downloading hugo-extended 64 bit from &#39;https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_extended_0.68.3_Windows-64bit.zip&#39; Progress: 100% - Completed download of C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB). Download of hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB) completed. Hashes match. Extracting C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip to C:\ProgramData\chocolatey\lib\hugo-extended\tools... C:\ProgramData\chocolatey\lib\hugo-extended\tools ShimGen has successfully created a shim for hugo.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-04-06T14:54:53+08:00">
    <meta property="article:modified_time" content="2020-04-06T14:54:53+08:00">




<link rel="canonical" href="//www.ianzhang.cn/posts/new-blog-with-hugo/">


<link rel="preload" href="//www.ianzhang.cn/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="//www.ianzhang.cn/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="//www.ianzhang.cn/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="//www.ianzhang.cn/css/coder.min.c8e4eea149ae1dc7c61ba9b0781793711a4e657f7e07a4413f9abc46d52dffc4.css" integrity="sha256-yOTuoUmuHcfGG6mweBeTcRpOZX9&#43;B6RBP5q8RtUt/8Q=" crossorigin="anonymous" media="screen" />








 




<link rel="icon" type="image/svg+xml" href="//www.ianzhang.cn/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="//www.ianzhang.cn/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="//www.ianzhang.cn/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="//www.ianzhang.cn/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="//www.ianzhang.cn/images/apple-touch-icon.png">

<link rel="manifest" href="//www.ianzhang.cn/site.webmanifest">
<link rel="mask-icon" href="//www.ianzhang.cn/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a3c1fbfd1174592b0c27655ddccef107";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
    </script>
    <section class="container">
        <a class="navigation-title" href="//www.ianzhang.cn/">
            手中执剑,方能保护所爱之人
        </a>
        
        <input type="checkbox" id="menu-toggle"/>
        <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
        <ul class="navigation-list">
            
            
            <li class="navigation-item">
                <a class="navigation-link" href="//www.ianzhang.cn/posts/">Blog</a>
            </li>
            
            <li class="navigation-item">
                <a class="navigation-link" href="//www.ianzhang.cn/resume_public/resume_2025.html">About</a>
            </li>
            
            
            
        </ul>

        
    </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="//www.ianzhang.cn/posts/new-blog-with-hugo/">
              New Blog With Hugo
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-04-06T14:54:53&#43;08:00">
                April 6, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              2-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p>最近翻译<a href="https://www.selenium.dev/documentation/"  class="external-link" target="_blank" rel="noopener">Selenium官方文档</a>的缘故，接触了<a href="https://gohugo.io/"  class="external-link" target="_blank" rel="noopener">Hugo</a>，原本的博客有些年久失修，决定用Hugo重新做一版.</p>
<h1 id="安装hugo">
  安装Hugo
  <a class="heading-link" href="#%e5%ae%89%e8%a3%85hugo">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>此段详见<a href="https://gohugo.io/getting-started/installing/"  class="external-link" target="_blank" rel="noopener">官网教程</a>，Windows上建议通过<a href="https://chocolatey.org/"  class="external-link" target="_blank" rel="noopener">Chocolatey</a>安装</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>&gt; choco install hugo-extended -confirm
</span></span><span style="display:flex;"><span>Chocolatey v0.10.15
</span></span><span style="display:flex;"><span>Installing the following packages<span style="">:</span>
</span></span><span style="display:flex;"><span>hugo-extended
</span></span><span style="display:flex;"><span>By installing you accept licenses <span style="font-weight:bold">for</span> the packages.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hugo-extended v0.68.3 [Approved]
</span></span><span style="display:flex;"><span>hugo-extended package files install completed. Performing other installation steps.
</span></span><span style="display:flex;"><span>Downloading hugo-extended 64 bit
</span></span><span style="display:flex;"><span>  from <span style="font-style:italic">&#39;https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_extended_0.68.3_Windows-64bit.zip&#39;</span>
</span></span><span style="display:flex;"><span>Progress<span style="">:</span> 100% - Completed download of C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB).
</span></span><span style="display:flex;"><span>Download of hugo_extended_0.68.3_Windows-64bit.zip (36.25 MB) completed.
</span></span><span style="display:flex;"><span>Hashes match.
</span></span><span style="display:flex;"><span>Extracting C:\Users\Ian\AppData\Local\Temp\chocolatey\hugo-extended\0.68.3\hugo_extended_0.68.3_Windows-64bit.zip to C:\ProgramData\chocolatey\lib\hugo-extended\tools...
</span></span><span style="display:flex;"><span>C:\ProgramData\chocolatey\lib\hugo-extended\tools
</span></span><span style="display:flex;"><span> ShimGen has successfully created a shim <span style="font-weight:bold">for</span> hugo.exe
</span></span><span style="display:flex;"><span> The install of hugo-extended was successful.
</span></span><span style="display:flex;"><span>  Software installed to <span style="font-style:italic">&#39;C:\ProgramData\chocolatey\lib\hugo-extended\tools&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Chocolatey installed 1/1 packages.
</span></span><span style="display:flex;"><span> See the log <span style="font-weight:bold">for</span> details (C:\ProgramData\chocolatey\logs\chocolatey.log).
</span></span></code></pre></div><p>注意安装扩展Hugo，否则在某些主题下可能遇到<a href="https://gohugo.io/troubleshooting/faq/#i-get-tocss--this-feature-is-not-available-in-your-current-hugo-version"  class="external-link" target="_blank" rel="noopener">编译错误</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt;hugo server
</span></span><span style="display:flex;"><span>Building sites … WARN 2020/04/06 14:18:29 found no layout file <span style="font-weight:bold">for</span> <span style="font-style:italic">&#34;HTML&#34;</span> <span style="font-weight:bold">for</span> kind <span style="font-style:italic">&#34;home&#34;</span>: You should create a template file which
</span></span><span style="display:flex;"><span>matches Hugo Layouts Lookup Rules <span style="font-weight:bold">for</span> this combination.
</span></span></code></pre></div><h1 id="制作站点">
  制作站点
  <a class="heading-link" href="#%e5%88%b6%e4%bd%9c%e7%ab%99%e7%82%b9">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>在Github上创建存放源码的repo</p>
<p><img src="//www.ianzhang.cn/images/2020-04-06_15_04_34-Window.png" alt="image"></p>
<p><img src="//www.ianzhang.cn/images/2020-04-06_15_07_07-Window.png" alt="image"></p>
<p>Clone到本地，并创建Hugo站点，如果是存量项目，可能会遇到需要强制创建的参数</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&gt;hugo new site .
</span></span><span style="display:flex;"><span>Error: alaahong.github.io already exists and is not empty. See --force.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt;hugo new site . --force
</span></span><span style="display:flex;"><span>Congratulations! Your new Hugo site is created in alaahong.github.io.
</span></span></code></pre></div><p>选择一个主题，我使用了一个比较简洁的<a href="https://themes.gohugo.io/hugo-coder/"  class="external-link" target="_blank" rel="noopener">Coder</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git submodule add https://github.com/luizdepra/hugo-coder.git themes/hugo-coder
</span></span></code></pre></div><p>在配置项选择指定的主题</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>theme = &#34;hugo-coder&#34;
</span></span></code></pre></div><p>hugo一下</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&gt;hugo
</span></span><span style="display:flex;"><span>Building sites …
</span></span><span style="display:flex;"><span>                   | EN
</span></span><span style="display:flex;"><span>-------------------+-----
</span></span><span style="display:flex;"><span>  Pages            |  7
</span></span><span style="display:flex;"><span>  Paginator pages  |  0
</span></span><span style="display:flex;"><span>  Non-page files   |  0
</span></span><span style="display:flex;"><span>  Static files     |  0
</span></span><span style="display:flex;"><span>  Processed images |  0
</span></span><span style="display:flex;"><span>  Aliases          |  2
</span></span><span style="display:flex;"><span>  Sitemaps         |  1
</span></span><span style="display:flex;"><span>  Cleaned          |  0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Total in 119 ms
</span></span></code></pre></div><p>本地预览一下</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>hugo server
</span></span></code></pre></div><p><img src="//www.ianzhang.cn/images/2020-04-06_16_37_18-%E6%89%8B%E4%B8%AD%E6%89%A7%E5%89%91,%E6%96%B9%E8%83%BD%E4%BF%9D%E6%8A%A4%E6%89%80%E7%88%B1%E4%B9%8B%E4%BA%BA.png" alt="image"></p>
<h1 id="增加评论">
  增加评论
  <a class="heading-link" href="#%e5%a2%9e%e5%8a%a0%e8%af%84%e8%ae%ba">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><a href="https://gohugo.io/content-management/comments/"  class="external-link" target="_blank" rel="noopener">官方推荐</a>的是Disqus，这里采用的是<a href="https://utteranc.es/"  class="external-link" target="_blank" rel="noopener">utteranc</a></p>
<p>首先建立一个评论专用的repo</p>
<p><img src="//www.ianzhang.cn/images/2020-04-06_21_10_54-Window.png" alt="image"></p>
<p>新建评论标签</p>
<p><img src="//www.ianzhang.cn/images/2020-04-06_21_12_20-Window.png" alt="image"></p>
<p>添加配置</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[params.utteranc]
</span></span><span style="display:flex;"><span>    enable = true
</span></span><span style="display:flex;"><span>    repo = &#34;alaahong/hugoblogcomments&#34;    # 存储评论的Repo，格式为 owner/repo
</span></span><span style="display:flex;"><span>    issueTerm = &#34;pathname&#34;  #表示你选择以那种方式让github issue的评论和你的文章关联。
</span></span><span style="display:flex;"><span>    theme = &#34;github-light&#34; # 样式主题，有github-light和github-dark两种
</span></span><span style="display:flex;"><span>    label = &#34;BlogComments&#34;  # Github Issue的标签,要先在repo里面建立这个标签
</span></span></code></pre></div><p>效果如下</p>
<p><img src="//www.ianzhang.cn/images/2020-04-06_21_13_43-Window.png" alt="image"></p>
<h1 id="toc目录">
  TOC目录
  <a class="heading-link" href="#toc%e7%9b%ae%e5%bd%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>官方有实现<a href="https://gohugo.io/content-management/toc/"  class="external-link" target="_blank" rel="noopener">TOC</a>，但是网上资料比较旧，涉及这个的不太多。将以下内容添加到single.html里合适的位置即可</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>    &lt;aside&gt;
</span></span><span style="display:flex;"><span>        {{ .TableOfContents }}
</span></span><span style="display:flex;"><span>    &lt;/aside&gt;
</span></span></code></pre></div><p><a href="https://gohugo.io/getting-started/configuration-markup/#table-of-contents"  class="external-link" target="_blank" rel="noopener">这里</a>有对应的配置项</p>
<h1 id="编译部署">
  编译部署
  <a class="heading-link" href="#%e7%bc%96%e8%af%91%e9%83%a8%e7%bd%b2">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>推荐将github的静态页资源作为子模块</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git submodule add -b master https://github.com/alaahong/alaahong.github.io.git public
</span></span></code></pre></div><p>官网给了linux环境下的<a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/"  class="external-link" target="_blank" rel="noopener">一键部署</a>，仿照着这里提供一个windows下的脚本</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>hugo
</span></span><span style="display:flex;"><span>cd public
</span></span><span style="display:flex;"><span>git add --all
</span></span><span style="display:flex;"><span>git commit -m <span style="font-style:italic">&#34;Publishing to github&#34;</span>
</span></span><span style="display:flex;"><span>git push
</span></span><span style="display:flex;"><span>cd ..
</span></span></code></pre></div><p>保存以上内容到deploy.cmd，每次修改后执行此脚本，会自动将public下的全部新增未忽略文件推送到github.</p>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Ian zhang 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="//www.ianzhang.cn/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
